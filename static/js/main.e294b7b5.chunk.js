(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{136:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(69),c=n.n(o),i=(n(79),n(16)),l=n(17),s=n(20),u=n(19),m=n(21),h=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.contentData;return r.a.createElement("section",{id:"about"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"four columns"},r.a.createElement("img",{className:"tech-logo",src:"images/cropped-osc-panel.png",alt:"CitySynth in action"})),r.a.createElement("div",{className:"eight columns main-col"},r.a.createElement("h2",null,"CitySynth"),r.a.createElement("p",null,e.productAbout),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"eight columns product-details"},r.a.createElement("h2",null,"Features"),r.a.createElement("p",{className:"features"},e.productFeatures.map(function(e){return r.a.createElement("span",{key:e},e)})))))))}}]),t}(a.Component),d=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.contentData;return r.a.createElement("section",{id:"tech"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"eight columns main-col"},r.a.createElement("h2",null,"How it works"),r.a.createElement("p",null,e.prodectTech),r.a.createElement("div",{className:"row"})),r.a.createElement("div",{className:"four columns"},r.a.createElement("div",{className:"tech-logo--container"},r.a.createElement("h3",{className:"tech-logo-header"},"Powered by:"),r.a.createElement("img",{className:"tech-logo",src:"images/webassembly_logo.jpg",alt:"WebAssembly Logo"})))))}}]),t}(a.Component),f=n(28);function p(e,t,n,a){return"number"===typeof a?"rgba(".concat(e,", ").concat(t,", ").concat(n,", ").concat(a/255,")"):"rgb(".concat(e,", ").concat(t,", ").concat(n,")")}function b(e){return{r:238,g:129,b:12,a:e}}var y=n(11),v=n(25);function E(e){return Object.keys(e).reduce(function(t,n){return Object(v.a)({},t,Object(y.a)({},e[n],n))},{})}var g,O=Object.freeze({refresh:0,altEnabled:1,kbOctave:2}),w=E(O),x=Object.freeze({Attack:0,AmpLFOrate:1,AmpLFOwidth:2,Decay:3,DelayWet:4,Gain:5,GeneralAtten:6,Harmonic2Gain:7,HarmonicsControl:8,HarmonicFix:9,HarmonicFunction:10,HarmonicPhase:11,HarmonicV1:12,HPFCutoff:13,LPF:14,LPFattack:15,LPFceiling:16,LPFenvelope:17,LPFfloor:18,LPFmodrate:19,LPFrelease:20,LPFwidth:21,Pitchmod:22,PitchmodWidth:23,Release:24,ReverbWet:25,SubOscGain:26,Sustain:27,WFunction:28}),k=E(x),S={Modifiers:-65536,None:0,LButton:1,RButton:2,Cancel:3,MButton:4,XButton1:5,XButton2:6,Back:8,Tab:9,LineFeed:10,Clear:12,Return:13,Enter:13,ShiftKey:16,ControlKey:17,Menu:18,Pause:19,Capital:20,CapsLock:20,KanaMode:21,HanguelMode:21,HangulMode:21,JunjaMode:23,FinalMode:24,HanjaMode:25,KanjiMode:25,Escape:27,IMEConvert:28,IMENonconvert:29,IMEAccept:30,IMEAceept:30,IMEModeChange:31,Space:32,Prior:33,PageUp:33,Next:34,PageDown:34,End:35,Home:36,Left:37,Up:38,Right:39,Down:40,Select:41,Print:42,Execute:43,Snapshot:44,PrintScreen:44,Insert:45,Delete:46,Help:47,D0:48,D1:49,D2:50,D3:51,D4:52,D5:53,D6:54,D7:55,D8:56,D9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,LWin:91,RWin:92,Apps:93,Sleep:95,NumPad0:96,NumPad1:97,NumPad2:98,NumPad3:99,NumPad4:100,NumPad5:101,NumPad6:102,NumPad7:103,NumPad8:104,NumPad9:105,Multiply:106,Add:107,Separator:108,Subtract:109,Decimal:110,Divide:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NumLock:144,Scroll:145,LShiftKey:160,RShiftKey:161,LControlKey:162,RControlKey:163,LMenu:164,RMenu:165,BrowserBack:166,BrowserForward:167,BrowserRefresh:168,BrowserStop:169,BrowserSearch:170,BrowserFavorites:171,BrowserHome:172,VolumeMute:173,VolumeDown:174,VolumeUp:175,MediaNextTrack:176,MediaPreviousTrack:177,MediaStop:178,MediaPlayPause:179,LaunchMail:180,SelectMedia:181,LaunchApplication1:182,LaunchApplication2:183,OemSemicolon:186,Oem1:186,Oemplus:187,Oemcomma:188,OemMinus:189,OemPeriod:190,OemQuestion:191,Oem2:191,Oemtilde:192,Oem3:192,OemOpenBrackets:219,Oem4:219,OemPipe:220,Oem5:220,OemCloseBrackets:221,Oem6:221,OemQuotes:222,Oem7:222,Oem8:223,OemBackslash:226,Oem102:226,ProcessKey:229,Packet:231,Attn:246,Crsel:247,Exsel:248,EraseEof:249,Play:250,Zoom:251,NoName:252,Pa1:253,OemClear:254,KeyCode:65535,Shift:65536,Control:131072,Alt:262144};function P(e){switch(e){case S.Q:case S.A:case S.W:case S.S:case S.E:case S.D:case S.F:case S.T:case S.G:case S.Y:case S.H:case S.U:case S.J:case S.K:case S.O:case S.L:case S.P:case S.OemSemicolon:case S.Oemtilde:return!0;default:return!1}}var j=(g={},Object(y.a)(g,S.A,60),Object(y.a)(g,S.W,61),Object(y.a)(g,S.S,62),Object(y.a)(g,S.E,63),Object(y.a)(g,S.D,64),Object(y.a)(g,S.F,65),Object(y.a)(g,S.T,66),Object(y.a)(g,S.G,67),Object(y.a)(g,S.Y,68),Object(y.a)(g,S.H,69),Object(y.a)(g,S.U,70),Object(y.a)(g,S.J,71),Object(y.a)(g,S.K,72),Object(y.a)(g,S.O,73),Object(y.a)(g,S.L,74),Object(y.a)(g,S.P,75),Object(y.a)(g,S.OemSemicolon,76),Object(y.a)(g,S.Oemtilde,77),g);var N=E(j);function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Math.min(Math.max(e,n),t)}var A,_=n(15),L=n.n(_),T=n(22),M="EVENT_KEY_DOWN",R="EVENT_OCTAVE_INCREMENT",D="SET_ALL_PARAMS",F="ALT_KEY_PRESSED",W="ALT_KEY_RELEASED",H="SET_PARAM_AMP_ATTACK",I="SET_PARAM_AMP_DECAY",G="SET_PARAM_AMP_SUSTAIN",U="SET_PARAM_AMP_RELEASE",V="SET_PARAM_AMP_LFO_RATE",B="SET_PARAM_AMP_LFO_WIDTH",K="SET_PARAM_OSC_PHASE",Y="SET_PARAM_OSC_WAVEFUNCTION",z="SET_PARAM_OSC_GAIN",J="SET_PARAM_DELAY_WET",X="SET_PARAM_REVERB_LENGTH",$="SET_PARAM_PITCH_LFO_RATE",Q="SET_PARAM_PITCH_LFO_WIDTH",Z="SET_ENABLE_FILTER_EG",q="SET_PARAM_FILTER_EG_ATTACK",ee="SET_PARAM_FILTER_EG_RELEASE",te="SET_PARAM_FILTER_EG_FLOOR",ne="SET_PARAM_FILTER_EG_CEILING",ae="SET_PARAM_FILTER_LFO_RATE",re="SET_PARAM_FILTER_LFO_WIDTH",oe="SET_PARAM_MASTER_LEVEL",ce="SET_PARAM_FILTER_CUTOFF",ie="SET_PARAM_2ND_HARM_GAIN",le="SET_META_PARAM_ALT_ENABLED",se=n(5),ue=function(e){return function(t){return{type:e,payload:{value:t}}}},me=function(e){return function(t){return{type:e,payload:t}}},he=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[null,null],a=Object(se.a)(n,2);return[function(t){return t[k[e]]},t,[a[0],a[1]]]},de=(A=D,function(e){return{type:A,payload:e}}),fe=me(M),pe=me("EVENT_KEY_UP"),be=n(13),ye=n(70),ve=n(144),Ee=n(85),ge=n(145),Oe=n(39),we=n(57),xe=n(142),ke=n(10),Se=n(141),Pe=n(86),je=n(147),Ne=n(143),Ce=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=e.meta,o=Object(be.a)(e,["meta"]);return Object(v.a)({},e,Object(y.a)({meta:Object(v.a)({},r,{prevState:o,refresh:a})},k[n],t.payload.value))},Ae=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=e.meta,o=a?t+(e.meta[w[n]]||0):t;return Object(v.a)({},e,{meta:Object(v.a)({},r,Object(y.a)({},w[n],o))})};function _e(e,t){return"undefined"===typeof e?{}:[Te,Me,Re,Fe,De,Le,We].reduce(function(e,n){return n(t,e)},e)}function Le(e,t){switch(e.type){case D:return Object(v.a)({},t,e.payload);case F:return Ae(t,!0,O.altEnabled);case W:return Ae(t,!1,O.altEnabled);case R:return Ae(t,e.payload,O.kbOctave,!0);default:return t}}function Te(e,t){switch(e.type){case H:return Ce(t,e,x.Attack,!0);case I:return Ce(t,e,x.Decay,!0);case G:return Ce(t,e,x.Sustain,!0);case U:return Ce(t,e,x.Release,!0);case V:return Ce(t,e,x.AmpLFOrate);case B:return Ce(t,e,x.AmpLFOwidth);default:return t}}function Me(e,t){switch(e.type){case Z:return Ce(t,e,x.LPFenvelope,!0);case q:return Ce(t,e,x.LPFattack,!0);case ee:return Ce(t,e,x.LPFrelease,!0);case te:return Ce(t,e,x.LPFfloor);case ne:return Ce(t,e,x.LPFceiling);default:return t}}function Re(e,t){switch(e.type){case ce:return Ce(t,e,x.LPF);case ie:return Ce(t,e,x.Harmonic2Gain);case le:return Ae(t,e.payload.value,O.altEnabled);default:return t}}function De(e,t){switch(e.type){case ae:return Ce(t,e,x.LPFmodrate);case re:return Ce(t,e,x.LPFwidth);case oe:return Ce(t,e,x.Gain);default:return t}}function Fe(e,t){switch(e.type){case K:return Ce(t,e,x.HarmonicPhase);case Y:return Ce(t,e,x.WFunction);case z:return Ce(t,e,x.GeneralAtten);case J:return Ce(t,e,x.DelayWet);case X:return Ce(t,e,x.ReverbWet);default:return t}}function We(e,t){switch(e.type){case $:return Ce(t,e,x.Pitchmod);case Q:return Ce(t,e,x.PitchmodWidth);default:return t}}var He=Object(ve.a)(),Ie=function(e){var t,n=function(e){switch(e){case S.Z:return-1;case S.X:return 1;default:return null}}(e.payload&&e.payload.keyCode);n&&e.type===M&&Ke.dispatch({type:R,payload:n}),((t=e.payload&&e.payload.keyCode)===S.Menu||t===(S.RButton|S.ShiftKey))&&Ke.dispatch({type:e.type===M?F:W,payload:{}})},Ge=new we.a,Ue=Ge.asObservable(),Ve=new xe.a(0),Be=function(e){var t=e.pipe(Object(Se.a)(function(e){return"EVENT_KEY_UP"===e.type||e.type===M}));return t.subscribe(Ie),t.subscribe(Ge),e.pipe(Object(Ee.a)(R),Object(Pe.a)(function(e){return e.payload})).subscribe(Ve),new ke.a(function(){})};var Ke=function(e){var t=[Be],n=ge.a.apply(void 0,t),a=[He],r=[Oe.applyMiddleware.apply(void 0,a)],o=ye.composeWithDevTools.apply(void 0,r),c=Object(Oe.createStore)(_e,e,o);return He.run(n),c}({meta:Object(y.a)({prevState:{}},w[O.kbOctave],-1)}),Ye=new ke.a(function(e){return Ke.subscribe(function(){return e.next(Ke.getState())})});Ye.subscribe(function(e){var t=e.meta,n=Object(be.a)(e,["meta"]),a=Object.keys(x).map(function(e){return"".concat(e,",").concat(t.prevState[e])}),r=new Set(a);Object.keys(x).map(function(e){return"".concat(e,",").concat(n[e])}).filter(function(e){return!r.has(e)}).forEach(function(e){var a=e.split(",")[0],r=x[a];"undefined"!==typeof r&&function(e,t,n){var a=k[e],r=Qe.synthNode;r&&"undefined"!==typeof t[a]&&n.prevState[a]!==t[a]&&(st(r,lt.setState({param:a,value:t[a]})),n[w[O.refresh]]&&st(r,lt.triggerRefresh()))}(r,n,t||{prevState:{}})})});var ze=Ye.pipe(Object(je.a)());function Je(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=(t?ze.pipe(Object(Ne.a)(function(e,n){return t(e)===t(n)})):ze).subscribe(function(t){return e(t)});return function(){return n.unsubscribe()}}var Xe=Ke,$e=n(146),Qe={hasStarted:!1,synthNode:null,synthNodePort$:null,synthWaveformSubscription:null,dumpParamsSubscription:null},Ze=190,qe="FROM_MODULE_TYPE",et="USE_MODULE_INSTANCE",tt="DUMP_PARAMS",nt="REFRESH_EG",at="SET_PRESET",rt="GET_PARAM",ot="SET_PARAM",ct="KEY_DOWN",it="KEY_UP",lt={sendModule:function(e){return{type:qe,data:e}},sendModuleInstance:function(e){return{type:et,data:e}},sendKeyDown:function(e){return{type:ct,data:e}},sendKeyUp:function(e){return{type:it,data:e}},getState:function(e){return{type:rt,data:e}},setState:function(e){return{type:ot,data:e}},dumpState:function(){return{type:tt,data:{dumpAll:!0}}},setPreset:function(e){return{type:at,data:e}},triggerRefresh:function(){return{type:nt,data:{}}}};function st(e,t){e.port.postMessage(t)}function ut(){return mt.apply(this,arguments)}function mt(){return(mt=Object(T.a)(L.a.mark(function e(){var t,n;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("wasm-synth/citysynth_wasm_bg.wasm");case 2:return t=e.sent,e.next=5,t.arrayBuffer();case 5:return n=e.sent,e.next=8,WebAssembly.compile(n);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ht(e){return dt.apply(this,arguments)}function dt(){return(dt=Object(T.a)(L.a.mark(function e(t){var n,a,r,o,c;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=function(e,t){return new TextDecoder("utf-8").decode(r().subarray(e,e+t))},o=function(e,t){throw new Error(c(e,t))},e.next=4,WebAssembly.instantiate(t,Object(y.a)({},"./citysynth_wasm",Object(y.a)({},"__wbindgen_throw",function(e,t){try{o(e,t)}catch(n){console.error(": ".concat(JSON.stringify(n)))}})));case 4:return n=e.sent,a=n.exports,r=function(){return new Uint8Array(a.memory.buffer)},e.abrupt("return",n);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ft(){return pt.apply(this,arguments)}function pt(){return(pt=Object(T.a)(L.a.mark(function e(){var t,n,a,r,o;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Qe.synthNode){e.next=2;break}return e.abrupt("return");case 2:return t=window.AudioContext||window.webkitAudioContext,n=new t,e.next=6,n.audioWorklet.addModule("audio.js");case 6:return e.next=8,ut();case 8:return a=e.sent,e.next=11,ht(a);case 11:return r=e.sent,st(o=new AudioWorkletNode(n,"city-rust"),lt.sendModuleInstance(r)),o.connect(n.destination),Qe.synthNode=o,Et(new ke.a(function(e){return o.port.onmessage=function(t){e.next({message:t,error:null})},o.port.onmessageerror=function(t){e.next({error:t,message:null})},function(){o.port.onmessage=null,o.port.onmessageerror=null}}).pipe(Object(je.a)())),e.next=20,wt();case 20:case"end":return e.stop()}},e)}))).apply(this,arguments)}var bt=new we.a,yt=bt.asObservable(),vt=new we.a;function Et(e){Qe.synthNodePort$=e.pipe(Object(Se.a)(function(e){return null===e.error}),Object(Pe.a)(function(e){return e.message})),Qe.synthWaveformSubscription=e.pipe(Object(Se.a)(function(e){return null===e.error}),Object(Se.a)(function(e){return"WAVEFORM_PUSH"===e.message.data.type}),Object(Pe.a)(function(e){return e.message.data.samples})).subscribe(function(e){return bt.next(e)}),Qe.dumpParamsSubscription=Qe.synthNodePort$.pipe(Object(Se.a)(function(e){return"DUMP_PARAMS_CALLBACK"===e.data.type}),Object(Se.a)(function(e){return"undefined"!==typeof e.data.dump})).subscribe(function(e){return vt.next(e)})}function gt(){return Ot.apply(this,arguments)}function Ot(){return(Ot=Object(T.a)(L.a.mark(function e(){return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e,t){try{var n=Qe.synthNode;n&&(vt.pipe(Object($e.a)(1)).subscribe(function(t){var n=t.data;"undefined"!==typeof n&&e(n.dump)}),st(n,lt.dumpState()))}catch(a){t(a)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function wt(){return xt.apply(this,arguments)}function xt(){return(xt=Object(T.a)(L.a.mark(function e(){var t;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gt();case 2:t=e.sent,Ke.dispatch(de(t));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function kt(e){return St.apply(this,arguments)}function St(){return(St=Object(T.a)(L.a.mark(function e(t){var n;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=Qe.synthNode)||!t){e.next=6;break}return st(n,lt.setPreset(t)),st(n,lt.triggerRefresh()),e.next=6,wt();case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}Ue.pipe(Object(Ee.a)(M),Object(Pe.a)(function(e){return e.payload})).subscribe(function(e){Qe.synthNode&&function(e){var t=e.keyCode,n=e.oct,a=Qe.synthNode;P(t)&&st(a,lt.sendKeyDown({keyCode:t,oct:n||0}))}(e)}),Ue.pipe(Object(Ee.a)("EVENT_KEY_UP"),Object(Pe.a)(function(e){return e.payload})).subscribe(function(e){var t=e.keyCode;Qe.synthNode&&function(e){var t=e.keyCode,n=Qe.synthNode;if(t===Ze){var a=prompt("preset data: ","56:T-Organic:318|a:1;d:94;s:0.86;r:2;h:2;hc:0.2190476;hp:0;w:2;hw:0;b:-1;lpf:13441.8;lfo:0;prate:0;pwidth:0;arate:30;awidth:0;lwidth:500;la:5;lr:5;lf:5;lc:5000;delay:120;dwet:0.2057;rwet:0.04;filter:0;lpfenv:0;sub:0.3668478");return st(n,lt.setPreset(a)),void wt()}P(t)&&st(n,lt.sendKeyUp(t))}({keyCode:t})});var Pt=new xe.a(0),jt=function(e){return e.meta[w[O.kbOctave]]||0};Je(function(e){Pt.next(jt(e))},jt),window.addEventListener("keydown",function(e){Qe.synthNode&&!e.repeat&&Ke.dispatch(fe({keyCode:e.keyCode,oct:Pt.getValue()}))}),window.addEventListener("keyup",function(e){Qe.synthNode&&!e.repeat&&Ke.dispatch(pe({keyCode:e.keyCode}))});var Nt=[0,.5,1,1.5,2,3,3.5,4,4.5,5,5.5,6],Ct=function(){function e(t){Object(i.a)(this,e),this.container=t,this.keys={},this.resize(),this.notes={}}return Object(l.a)(e,[{key:"resize",value:function(){var e=this;this.keys={},this.container.innerHTML="";for(var t=function(t){var n=document.createElement("div");n.classList.add("key");var a=-1!==[1,3,6,8,10].indexOf(t%12);n.classList.add(a?"black":"white"),e.container.appendChild(n);var r=Math.floor(t/12)-Math.floor(5),o=Nt[t%12]+7*r-5;n.style.width=1/52*100+"%",n.style.left=o*(1/52)*100+10+"%",n.id=t.toString();n.addEventListener("mousedown",function(n){return e.handleMouse(n,!0,t)});n.addEventListener("mouseup",function(n){return e.handleMouse(n,!1,t)});var c=document.createElement("div");c.classList.add("fill"),n.appendChild(c),e.keys[t]=n},n=60;n<=77;n++)t(n)}},{key:"handleMouse",value:function(e,t,n){var a=t?fe:pe,r=+N[n];Xe.dispatch(a({keyCode:r,oct:-1}))}},{key:"keyDown",value:function(e){if(e in this.keys){var t=this.keys[e],n=new At(t.querySelector(".fill"));this.notes[e]||(this.notes[e]=[]),this.notes[e].push(n)}}},{key:"keyUp",value:function(e){e in this.keys&&(this.notes[e]&&this.notes[e].length?this.notes[e].shift().noteOff():console.warn("note off before note on"))}}]),e}(),At=function(){function e(t){Object(i.a)(this,e),this.element=t,this.element.classList.add("active")}return Object(l.a)(e,[{key:"noteOff",value:function(){this.element.classList.remove("active")}}]),e}(),_t=n(1),Lt=n(72),Tt=n.n(Lt),Mt={},Rt=function(e,t){return function(e,t,n,a,r){var o="".concat("/CitySynthDemo","/res/").concat(e,"/assets.").concat(t,"/").concat(n,".").concat(a);return Tt()(r?null:o)}(e.dir,e.componentScope,e.assetName,e.ext,t)},Dt=function(e){var t,n=e.componentScope,a=e.assetName,o=e.assetExt,c=e.resDirector,i=e.onInfoReady,l=Object(be.a)(e,["componentScope","assetName","assetExt","resDirector","onInfoReady"]),s={dir:"string"===typeof c&&c||"synth",componentScope:n,assetName:a,ext:"string"===typeof o&&o||"png"},u=(t=s).dir+"|"+t.componentScope+"|"+t.assetName+"|"+t.ext,m=Mt[u],h="undefined"!==typeof m,d=(Rt(s,h)||[])[0]||m;if(!h&&d&&(Mt[u]=d),d){var f=function(e){var t=e.naturalWidth,n=e.naturalHeight;return{w:t,h:n}}(d);"function"===typeof i&&i(f)}return r.a.createElement(_t.Image,Object.assign({image:d},l))};var Ft=n(36);function Wt(e){var t=Object(Ft.a)({},e);return r.a.createElement(Dt,Object.assign({componentScope:"PanelDivider",assetName:"pnl-div-vline"},t))}var Ht=function(){return r.a.createElement(Dt,{componentScope:"BaseWindow",assetName:"base-bg-img"})},It=function(e){return r.a.createElement(_t.Stage,{width:925,height:528},r.a.createElement(_t.Layer,null,r.a.createElement(_t.Group,null,r.a.createElement(Ht,null),r.a.createElement(_t.Group,{y:3},e.children))))},Gt=function(e){var t=Object(Ft.a)({},e);return r.a.createElement(Dt,Object.assign({componentScope:"Dial",assetName:"dial-bg-markings"},t))};Gt.imgWidthPx=57,Gt.imgHeightPx=65;var Ut=function(e){var t=Object(Ft.a)({},e);return r.a.createElement(Dt,Object.assign({componentScope:"Dial",assetName:"round-blank-dial"},t))};Ut.imgWidthPx=57,Ut.imgHeightPx=65;var Vt=function(e){var t=e.x,n=e.y,a=Object(be.a)(e,["x","y"]),o=20,c=20;return r.a.createElement(Dt,Object.assign({componentScope:"Dial",assetName:"dial-fg-marker"},a,{x:t+o,y:n+c,offsetX:o,offsetY:c}))};Vt.imgWidthPx=39,Vt.imgHeightPx=39;var Bt=function(e){var t=e.x,n=e.y;return r.a.createElement(_t.Ellipse,{x:t+56-Gt.imgWidthPx/2,y:n+104-Gt.imgHeightPx,width:Vt.imgWidthPx,height:Vt.imgHeightPx,fill:p(45,45,45,190),onClick:e.onClick})};Bt.defaultProps={x:0,y:0};var Kt=function(e){var t=e.fillColour,n=p(t.r,t.g,t.b,t.a),a="string"===typeof e.children&&e.children||e.text,o=e.uppercase?a.toUpperCase():a;return r.a.createElement(_t.Group,{x:e.x,y:e.y},r.a.createElement(_t.Text,{text:o,fontFamily:"Roboto Condensed, Roboto, Arial",fontSize:13,fontStyle:"bold",align:e.centered?"center":void 0,fill:n,width:e.width}))};Kt.defaultProps={text:"HeaderLabel",width:void 0,centered:!1,uppercase:!0,fillColour:{r:238,g:129,b:12}};var Yt=function(e){var t=e.w,n=e.h,a=e.hideBackground,o=e.text,c=e.isInactive,i=e.noInactive,l=e.setInactive,s=n-Gt.imgHeightPx;return[a?null:r.a.createElement(Gt,{x:0,y:s,key:"bg_1"}),r.a.createElement(Ut,{x:0,y:s,key:"bg_2"}),r.a.createElement(Kt,{x:0,y:2,centered:!0,fillColour:{r:255,g:255,b:255,a:255},width:t,height:n-50,key:"bg_3"},o),c&&!i?r.a.createElement(Bt,{y:s,onClick:function(){return l(!1)},key:"bg_4"}):null]},zt=function(e){var t=e.text,n=e.children,o=e.w,c=e.h,i=e.value,l=e.valueChanged,s=e.onValidateValue,u=e.x,m=e.y,h=e.hideBackground,d=e.noInactive,f=Object(a.useState)(i),p=Object(se.a)(f,2),b=p[0],y=p[1],v=Object(a.useState)(0),E=Object(se.a)(v,2),g=E[0],O=E[1],w=Object(a.useState)(!d),x=Object(se.a)(w,2),k=x[0],S=x[1],P=n||t;Object(a.useEffect)(function(){y(i)},[i]);var j=function(e){y(function(t){var n=.001*Math.round(1e3*t+10*e);return l&&t!==n&&n>=0&&n<=1&&l(C(n)),C(n)})},N=Gt.imgWidthPx,A=c-Gt.imgHeightPx,_=274*(C(b)||0);return r.a.createElement(_t.Group,{x:u,y:m,onWheel:function(e){var t=e.evt;t.stopPropagation(),t.stopImmediatePropagation();var n=-t.deltaY;j(.5*n)}},r.a.createElement(Yt,{w:o,h:c,hideBackground:h,text:P,isInactive:k,noInactive:d,setInactive:S}),r.a.createElement(Vt,{x:37-N/2,y:A+20,rotation:_}),r.a.createElement(_t.Rect,{width:o,height:c,draggable:!0,onDragStart:function(){O(null)},onDragMove:function(e){var t=e.target.y(),n=null===g?0:g-t;O(t),j(n)},onDragEnd:function(e){e.target.x(0),e.target.y(0),"function"===typeof s&&s(b)}}))};zt.defaultProps={text:"Param",value:0,inactive:!0,mouseDown:!1,w:57,h:68};var Jt=zt,Xt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(o){var c=Object(a.useState)(t),i=Object(se.a)(c,2),l=i[0],s=i[1];function u(t){return Xe.dispatch(e[1](t))}if(Object(a.useEffect)(function(){return Je(function(t){var n,a={param:(n=t)&&e[0](n)};s(a.param)},e[0])},[t]),n){var m=(e&&e[2]||[0,1]).map(function(e){return r?Math.log(e):e}),h=Object(se.a)(m,2),d=h[0],f=h[1],p=function(e){return(f-d)*e+d},b=r?Math.log(l):l;return o({valueChanged:function(e){return u(r?Math.exp(p(e)):p(e))},value:e&&(l||0!==l)&&(b-d)/(f-d)||0})}return o({valueChanged:u,value:l})}},$t=function(e){var t=e.hook,n=Object(be.a)(e,["hook"]);return Xt(t)(function(e){var a=e.value,o=e.valueChanged,c=t&&t[2]||[0,1],i=Object(se.a)(c,2),l=i[0],s=i[1],u=t&&(a||0!==a)&&function(e){return(e-l)/(s-l)}(a)||0;return r.a.createElement(Jt,Object.assign({},n,{value:u,valueChanged:function(e){return o(function(e){return(s-l)*e+l}(e))}}))})},Qt=function(e){var t=e.hook,n=Object(be.a)(e,["hook"]);return Xt(t)(function(e){var a=e.value,o=e.valueChanged,c=(t&&t[2]||[0,1]).map(function(e){return Math.log(e)}),i=Object(se.a)(c,2),l=i[0],s=i[1],u=Math.log(a),m=t&&(a||0!==a)&&function(e){return(e-l)/(s-l)}(u)||0;return r.a.createElement(Jt,Object.assign({},n,{value:m,valueChanged:function(e){return o(Math.exp(function(e){return(s-l)*e+l}(e)))}}))})},Zt=function(e){var t=e.hook,n=e.segmentCount,a=Object(be.a)(e,["hook","segmentCount"]);return Xt(t)(function(e){var o=e.value,c=e.valueChanged,i=t&&t[2]||[0,1],l=Object(se.a)(i,2),s=l[0],u=l[1],m=t&&(o||0!==o)&&function(e){return(e-s)/(u-s)}(o)||0,h=function(e){return c(function(e){return(u-s)*e+s}(e))};return r.a.createElement(Jt,Object.assign({},a,{value:m,valueChanged:h,onValidateValue:function(e){return h(Math.round(n*e)/n)}}))})},qt=function(e){var t=e.store,n=e.action,a=Object(be.a)(e,["store","action"]);return r.a.createElement(Jt,Object.assign({},a,{valueChanged:function(e){return t.dispatch(n(e))}}))},en=function(e){return r.a.createElement(Dt,Object.assign({componentScope:"PresetSelector",assetName:"base-sel-bar-bg"},e))};en.imgWidthPx=279,en.imgHeightPx=27;var tn=function(e){return r.a.createElement(Dt,Object.assign({componentScope:"PresetSelector",assetName:"btn-sel-bar-bg"},e))};tn.imgWidthPx=26;var nn=function(e){return r.a.createElement(Dt,Object.assign({componentScope:"PresetSelector",assetName:"arrow-up-sel"},e))},an=function(e){return r.a.createElement(Dt,Object.assign({componentScope:"PresetSelector",assetName:"arrow-down-sel"},e))};an.imgWidthPx=27;var rn=function(e){return r.a.createElement(Dt,Object.assign({componentScope:"PresetSelector",assetName:"base-drop-down-bg"},e))};rn.imgWidthPx=278,rn.imgHeightPx=165;var on=function(e){return r.a.createElement(Dt,Object.assign({componentScope:"PresetSelector",assetName:"scroll-drop-down-bg"},e))};on.imgWidthPx=13;var cn=function(e){return r.a.createElement(Dt,Object.assign({componentScope:"PresetSelector",assetName:"scroll-bar-fg-top"},e))};cn.imgHeightPx=12;var ln=function(e){return r.a.createElement(Dt,Object.assign({componentScope:"PresetSelector",assetName:"scroll-bar-fg-btm"},e))};ln.imgHeightPx=15;var sn="UP_BUTTON_PRESSED",un="DOWN_BUTTON_PRESSED",mn="RELOAD_PRESET",hn=[en.imgWidthPx][0],dn=an.imgWidthPx,fn=tn.imgWidthPx,pn={r:255,g:255,b:255,a:150},bn="UP_BUTTON_PRESSED",yn="DOWN_BUTTON_PRESSED",vn=function(e){var t=e.onToggleDropDown,n=e.presetText,a=e.handleEvent;return r.a.createElement(_t.Group,null,r.a.createElement(en,{onMouseDown:t}),r.a.createElement(Kt,{x:10,y:9,fillColour:pn},n),r.a.createElement(nn,{x:hn-2*dn,onClick:function(){return a(bn)}}),r.a.createElement(an,{x:hn-1*dn,onClick:function(){return a(yn)}}),r.a.createElement(tn,{x:hn-1}),r.a.createElement(tn,{x:hn-1+fn}))},En=[en.imgWidthPx,en.imgHeightPx],gn=En[0],On=En[1],wn=on.imgWidthPx,xn=function(e){var t=e.scrolledRows,n=e.scrolledRowsChanged,o=e.itemsCount,c=e.slicedCount,i=gn-6-wn,l=On+5,s=cn.imgHeightPx,u=function(e){return Math.floor(140*e/(o-c))},m=function(e){return Math.round(C(e,140,0)*(o-c)/140)},h=Object(a.useState)(u(t)),d=Object(se.a)(h,2),f=d[0],p=d[1];Object(a.useEffect)(function(){p(u(t))},[t]);return r.a.createElement(_t.Group,{y:f,draggable:!0,onDragMove:function(e){var a=e.target.y();e.target.x(0),e.target.y(C(a,140,0));var r=m(a);r!==t&&n(r)},onDragEnd:function(e){var t=m(e.target.y());p(u(t))}},r.a.createElement(cn,{x:i,y:l}),r.a.createElement(ln,{x:i,y:l+s}))},kn=[en.imgWidthPx,en.imgHeightPx],Sn=kn[0],Pn=kn[1],jn=on.imgWidthPx,Nn={r:255,g:255,b:255,a:150},Cn={r:255,g:255,b:255,a:255},An=function(e){var t=e.visible,n=e.onChangePreset,o=(e.handleEvent,e.presetItems),c=e.selectedIndex,i=Object(a.useState)(0),l=Object(se.a)(i,2),s=l[0],u=l[1],m=Object(a.useState)(c),h=Object(se.a)(m,2),d=h[0],f=h[1],p={min:s,max:s+8};Object(a.useEffect)(function(){c!==d&&(c<p.min&&c>=0?u(c):c>=p.max&&u(Math.min(c-8+1,o.length-8))),f(c)},[c]);var b=function(e){return e===d?Cn:Nn},y=o.slice(p.min,p.max).map(function(e,t,a){var c=a.length;return[r.a.createElement(Kt,{x:13,y:38+20.4*t,fillColour:b(s+t),uppercase:!1,key:e+t+"_0"},e),t<c-1&&r.a.createElement(_t.Line,{points:[13,6.4+Pn+20.4*(t+1),255,6.4+Pn+20.4*(t+1)],stroke:"#19191980",strokeWidth:1,key:e+t+"_l"}),r.a.createElement(_t.Rect,{x:13,y:38+20.4*t,width:242,height:20.4,fillColour:{r:0,g:0,b:0,a:0},onClick:function(){n&&n({idx:s+t,presetName:o[s+t]})},key:e+t+"_2"})]}),v=Sn-6-jn,E=Pn+5;return t&&r.a.createElement(_t.Group,null,r.a.createElement(rn,{x:-1,y:Pn-1}),y,r.a.createElement(on,{x:v,y:E}),r.a.createElement(xn,{scrolledRows:s,scrolledRowsChanged:function(e){e!==s&&u(e)},itemsCount:o.length,slicedCount:y.length}))};An.defaultProps={onChangePreset:null,selectedIndex:0};var _n=fetch("res/csharp/factorypresets.sdp"),Ln=function(e,t){var n=e&&e[t];return Tn(n)},Tn=function(e){var t=e&&e.split("|"),n=t&&t.length>1&&t[0]||null,a=n&&n.split(":");return a&&a[1]},Mn=function(e){var t=e.x,n=e.y,o=Object(a.useState)(!1),c=Object(se.a)(o,2),i=c[0],l=c[1],s=Object(a.useState)([]),u=Object(se.a)(s,2),m=u[0],h=u[1],d=Object(a.useState)({presetName:"Initial",idx:0}),f=Object(se.a)(d,2),p=f[0],b=f[1],y=function(){var e=Object(T.a)(L.a.mark(function e(t){var n,a;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.presetName,a=t.idx,e.next=3,new Promise(function(e){return b(function(){return e(),{presetName:n,idx:a}})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)(function(){_n.then(function(e){return e.text()}).then(function(e){var t,n=(t=e)&&t.split("\n")||[],a=Ln(n,0);return h(n),y({presetName:a,idx:0})})},[]);var v=function(){var e=Object(T.a)(L.a.mark(function e(t){var n,a;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.presetName,a=t.idx,e.next=3,y({presetName:n,idx:a});case 3:return e.next=5,kt(m[a]);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),E=function(e){var t=m.length,n=(p.idx+e+t)%t;return{presetName:Ln(m,n),idx:n}},g=function(){var e=Object(T.a)(L.a.mark(function e(t){var n;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=p,e.t0=t,e.next=e.t0===sn?4:e.t0===un?9:e.t0===mn?14:17;break;case 4:return n=E(-1),b(n),e.next=8,kt(m[n.idx]);case 8:return e.abrupt("break",18);case 9:return n=E(1),b(n),e.next=13,kt(m[n.idx]);case 13:return e.abrupt("break",18);case 14:return e.next=16,kt(m[n.idx]);case 16:case 17:return e.abrupt("break",18);case 18:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(_t.Group,{x:t,y:n},r.a.createElement(vn,{onToggleDropDown:function(){return l(!i)},presetText:p.presetName,handleEvent:g}),r.a.createElement(An,{visible:i,onChangePreset:v,selectedIndex:p.idx,handleEvent:g,presetItems:m.map(function(e){return Tn(e)})}))},Rn=function(e){var t=e.on,n=Object(be.a)(e,["on"]);return t?r.a.createElement(Dt,Object.assign({componentScope:"ToggleIcon",assetName:"toggle-on"},n)):r.a.createElement(Dt,Object.assign({componentScope:"ToggleIcon",assetName:"toggle-off"},n))};Rn.imgWidthPx=18,Rn.imgHeightPx=20;var Dn=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={checked:!1,img_x:0,img_y:0,txt_x:0,txt_y:0,text:"",layoutCompleted:!1},n.handleClick=function(){n.props.enabled&&(n.props.onClick&&n.props.onClick(!n.state.checked),n.setState(function(e){return{checked:!e.checked}}))},n.handleClick=n.handleClick.bind(Object(f.a)(n)),n.handleLayout=n.handleLayout.bind(Object(f.a)(n)),n.w=n.props.w,n.h=n.props.h,n.state.checked=e.checked,n.state.text="string"===typeof e.text?e.text:"string"===typeof e.children&&e.children||n.state.text,n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.handleLayout({w:Rn.imgWidthPx,h:Rn.imgHeightPx})}},{key:"componentDidUpdate",value:function(){var e=this.props.checked;"undefined"!==typeof e&&this.state.checked!==e&&this.handleClick()}},{key:"handleLayout",value:function(e){var t=this;this.state.layoutCompleted||this.setState(function(){return{img_x:t.w/2-e.w/2,img_y:t.h-e.h,txt_x:0,txt_y:t.h-12-e.h,layoutCompleted:!0}})}},{key:"render",value:function(){var e=this.props,t=e.x,n=e.y,a=e.w;return r.a.createElement(_t.Group,{x:t,y:n},r.a.createElement(Rn,{on:this.state.checked,x:this.state.img_x,y:this.state.img_y,onClick:this.handleClick}),this.state.text?r.a.createElement(Kt,{x:this.state.txt_x,y:this.state.txt_y,width:a,centered:!0,fillColour:{r:255,g:255,b:255,a:150}},this.state.text):null)}}]),t}(a.Component);Dn.defaultProps={w:44,h:53,x:0,y:0,enabled:!0,checked:void 0};var Fn=function(e){var t=e.hook,n=Object(be.a)(e,["hook"]);return Xt(t)(function(e){var a=e.value,o=e.valueChanged,c=t&&(a||0!==a)&&a>.5||!1;return r.a.createElement(Dn,Object.assign({},n,{checked:c,onClick:function(e){return o(+e)}}))})},Wn=function(e){return r.a.createElement(Dt,Object.assign({componentScope:"TouchPad",assetName:"touchpad-bg"},e))};Wn.imgWidthPx=184,Wn.imgHeightPx=147;var Hn=function(e){var t=e.x,n=e.y,o=e.enabled,c=e.hValue,i=e.vValue,l=e.sensitivity,s=e.tapToToggle,u=e.valueChanged,m=e.enabledChanged,h=Object(a.useState)(!1),d=Object(se.a)(h,2),f=d[0],p=d[1],b=Object(a.useState)({x:0,y:0}),y=Object(se.a)(b,2),v=y[0],E=y[1],g=Object(a.useState)({hValue:c,vValue:i}),O=Object(se.a)(g,2),w=O[0],x=O[1],k=Object(a.useState)(o),S=Object(se.a)(k,2),P=S[0],j=S[1],N=s?P:o;Object(a.useEffect)(function(){return j(o)},[o]);return r.a.createElement(_t.Group,{x:t,y:n,onMouseDown:function(e){var t=e.evt;1===t.which&&p(!0);var n=t.offsetX,a=t.offsetY;E({x:n,y:a});var r=!N;P!==r&&"function"===typeof m&&m(r),j(r)},onMouseMove:function(e){var t=e.evt;if(!N){if(1!==t.which)return void p(!1);if(!f)return}var n=t.offsetX,a=t.offsetY,r=n-v.x,o=a-v.y,c={hValue:C(l*(r/Wn.imgWidthPx)+w.hValue),vValue:C(l*(o/Wn.imgHeightPx)+w.vValue)},i=c.hValue!==w.hValue||c.vValue!==w.vValue;x(c),"function"===typeof u&&i&&u(c),E({x:n,y:a})},onMouseUp:function(){}},r.a.createElement(Wn,null))};Hn.defaultProps={x:0,y:0,enabled:!0,tapToToggle:!1,hValue:0,vValue:0,sensitivity:.5};var In=function(e){var t=e.hHook,n=e.vHook,a=e.hLogScale,o=e.vLogScale,c=Object(be.a)(e,["hHook","vHook","hLogScale","vLogScale"]),i=function(e){var t=e.hValueChanged,n=e.vValueChanged;return function(e){var a=e.hValue,r=e.vValue;t(a),n(r)}};return Xt(t,0,!0,a)(function(e){var t=e.value,a=e.valueChanged;return Xt(n,0,!0,o)(function(e){var n=e.value,o=e.valueChanged;return r.a.createElement(Hn,Object.assign({},c,{hValue:t,vValue:n,valueChanged:i({hValueChanged:a,vValueChanged:o})}))})})},Gn=function(e){var t=e.hHook,n=e.vHook,a=e.hLogScale,o=e.vLogScale,c=e.toggleHook,i=Object(be.a)(e,["hHook","vHook","hLogScale","vLogScale","toggleHook"]);return Xt(c)(function(e){var l=e.value,s=e.valueChanged,u=c&&(l||0!==l)&&l>.5||!1;return r.a.createElement(In,Object.assign({},i,{hHook:t,vHook:n,hLogScale:a,vLogScale:o,enabledChanged:function(e){return s(+e)},enabled:u}))})},Un=function(e){return r.a.createElement(Dt,Object.assign({componentScope:"WavePreviewBox",assetName:"previewbox-bg"},e))};Un.imgWidthPx=178,Un.imgHeightPx=51;var Vn=function(e){var t=e.x,n=e.y,a=e.gain;return r.a.createElement(_t.Group,{x:t,y:n},r.a.createElement(Un,null),r.a.createElement(Bn,{gain:a}))};Vn.defaultProps={x:0,y:0,enabled:!0,gain:5};var Bn=function(e){var t=e.gain,n=Object(a.useState)(new Array(256).fill(0)),o=Object(se.a)(n,2),c=o[0],i=o[1];return Object(a.useEffect)(function(){var e=yt.subscribe(function(e){var n=[],a=e.length-1,r=Un.imgHeightPx/2;e.forEach(function(e,o){var c=C(e*t,1,-1);n[2*o]=(Un.imgWidthPx-2)*o/a+1,n[2*o+1]=r*(1-c)}),i(n)});return function(){return e.unsubscribe()}},[t]),r.a.createElement(_t.Line,{points:c,strokeWidth:1.5,stroke:"#ffa500"})},Kn=ue(H),Yn=ue(I),zn=ue(G),Jn=ue(U),Xn=ue(V),$n=ue(B),Qn=he(x.Attack,Kn,[1,1500]),Zn=he(x.Decay,Yn,[2,1500]),qn=he(x.Sustain,zn,[0,1]),ea=he(x.Release,Jn,[1,1500]),ta=he(x.AmpLFOrate,Xn,[5,1500]),na=he(x.AmpLFOwidth,$n,[0,1]),aa=function(){return r.a.createElement(_t.Group,null,r.a.createElement(Kt,{x:219,y:300,width:62,centered:!0},"AMPLIFIER"),r.a.createElement($t,{x:216,y:323,h:70,hook:Qn},"Attack"),r.a.createElement($t,{x:299,y:323,h:70,hook:Zn},"Decay"),r.a.createElement($t,{x:382,y:323,h:70,hook:qn},"Sustain"),r.a.createElement($t,{x:465,y:323,h:70,hook:ea},"Release"))},ra=function(){return r.a.createElement(_t.Group,null,r.a.createElement(Kt,{x:349,y:465,width:38,centered:!0,fillColour:b(120)},"LFO"),r.a.createElement($t,{x:289,y:405,h:68,hook:ta},"Rate"),r.a.createElement($t,{x:392,y:405,h:68,hook:na},"Width"))},oa=function(){return r.a.createElement(_t.Group,null,r.a.createElement(aa,null),r.a.createElement(ra,null))},ca=ue(Z),ia=ue(q),la=ue(ee),sa=ue(te),ua=ue(ne),ma=he(x.LPFenvelope,ca,[null,null]),ha=he(x.LPFattack,ia,[5,1500]),da=he(x.LPFrelease,la,[5,1500]),fa=he(x.LPFfloor,sa,[5,21e3]),pa=he(x.LPFceiling,ua,[5,21e3]),ba=function(){return r.a.createElement(_t.Group,null,r.a.createElement(Kt,{x:460,y:97,width:62},"ENVELOPE"),r.a.createElement(Fn,{x:619,y:90,w:28,h:24,hook:ma}),r.a.createElement($t,{x:471,y:123,h:70,hook:ha},"Attack"),r.a.createElement($t,{x:570,y:123,h:70,hook:da},"Release"),r.a.createElement($t,{x:471,y:200,h:70,hook:fa},"Floor"),r.a.createElement($t,{x:570,y:200,h:70,hook:pa},"Ceiling"))},ya=function(){return r.a.createElement(_t.Group,null,r.a.createElement(ba,null))},va=ue(ce),Ea=ue(ie),ga=ue(le),Oa=he(x.LPF,va,[30,21e3]),wa=he(x.LPF,va,[30,21e3]),xa=he(x.Harmonic2Gain,Ea,[0,100]),ka=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[null,null],a=Object(se.a)(n,2);return[function(t){return t.meta[w[e]]},t,[a[0],a[1]]]}(O.altEnabled,ga,[0,1]),Sa=function(){return r.a.createElement(_t.Group,null,r.a.createElement(Kt,{x:572,y:300,width:39,centered:!0},"FILTER"),r.a.createElement(Qt,{x:584,y:327,h:68,hook:Oa},"Cutoff"),r.a.createElement(Dn,{x:584,y:421,w:57,h:34,enabled:!1},"4-Pole"))},Pa=function(){return r.a.createElement(_t.Group,null,r.a.createElement(Kt,{x:683,y:300,width:62,centered:!0},"TOUCHPAD"),r.a.createElement(Fn,{x:844,y:294,w:28,h:24,hook:ka}),r.a.createElement(Gn,{x:683,y:323,hHook:xa,vHook:wa,vLogScale:!0,toggleHook:ka,sensitivity:.5,tapToToggle:!0}))},ja=function(){return r.a.createElement(_t.Group,null,r.a.createElement(Sa,null),r.a.createElement(Wt,{x:670,y:315}),r.a.createElement(Pa,null))},Na=ue(ae),Ca=ue(re),Aa=ue(oe),_a=he(x.LPFmodrate,Na,[0,20]),La=he(x.LPFwidth,Ca,[10,15e3]),Ta=function(){return r.a.createElement(_t.Group,null,r.a.createElement(Kt,{x:670,y:97,width:39,centered:!0},"LFO"),r.a.createElement(Kt,{x:728,y:153,width:67,centered:!0,fillColour:b(120)},"Send To:"),r.a.createElement(Dn,{x:733,y:170,w:57,h:34},"LPF"),r.a.createElement(Dn,{x:733,y:208,w:57,h:34},"HPF"),r.a.createElement($t,{x:673,y:123,h:68,hook:_a},"Rate"),r.a.createElement($t,{x:673,y:200,h:68,hook:La},"Width"))},Ma=he(x.Gain,Aa,[0,1]),Ra=function(){return r.a.createElement(_t.Group,null,r.a.createElement(Kt,{x:814,y:97,width:48,centered:!0},"MASTER"),r.a.createElement(Qt,{x:810,y:123,h:65,hook:Ma},"Level"))},Da=function(){return r.a.createElement(_t.Group,null,r.a.createElement(Ta,null),r.a.createElement(Wt,{x:791,y:110}),r.a.createElement(Ra,null))},Fa=ue($),Wa=ue(Q),Ha=he(x.Pitchmod,Fa,[0,20]),Ia=he(x.PitchmodWidth,Wa,[0,.2]),Ga=function(){return r.a.createElement(_t.Group,null,r.a.createElement(Kt,{x:131,y:300,width:37,centered:!0},"PITCH"),r.a.createElement($t,{x:123,y:323,h:68,hook:Ha},"Rate"),r.a.createElement($t,{x:123,y:400,h:68,hook:Ia},"Width"))},Ua=function(){return r.a.createElement(_t.Group,null,r.a.createElement(Ga,null))},Va=ue(K),Ba=ue(Y),Ka=ue(z),Ya=ue("SET_PARAM_DELAY_LENGTH"),za=ue(J),Ja=ue(X),Xa=he(x.HarmonicPhase,Va,[0,1]),$a=he(x.WFunction,Ba,[0,5]),Qa=he(x.GeneralAtten,Ka,[-48,6]),Za=function(){return r.a.createElement(_t.Group,null,r.a.createElement(Kt,{x:131,y:97,width:38,centered:!0},"OSC 1"),r.a.createElement(Vn,{x:131,y:120}),r.a.createElement(Zt,{x:127,y:186,h:83,hook:$a,segmentCount:5},"Wave Selector"),r.a.createElement($t,{x:193,y:200,h:69,hook:Xa},"Phase"),r.a.createElement($t,{x:259,y:200,h:69,hook:Qa},"Gain"))},qa=he(x.DelayWet,za,[0,1.1]),er=function(){return r.a.createElement(_t.Group,null,r.a.createElement(Kt,{x:355,y:97,width:57,centered:!0},"DELAY"),r.a.createElement(qt,{x:355,y:123,h:68,store:Xe,action:Ya},"Length"),r.a.createElement($t,{x:355,y:200,h:68,hook:qa},"Dry/Wet"))},tr=he(x.ReverbWet,Ja,[0,1.1]),nr=function(){return r.a.createElement(_t.Group,null,r.a.createElement(Kt,{x:355,y:97,width:57,centered:!0},"REVERB"),r.a.createElement(qt,{x:355,y:123,h:68,store:Xe,action:Ya},"Length"),r.a.createElement($t,{x:355,y:200,h:68,hook:tr},"Dry/Wet"))},ar=function(){var e=Object(a.useState)(!0),t=Object(se.a)(e,2),n=t[0],o=t[1];return r.a.createElement(_t.Group,null,r.a.createElement(Za,null),r.a.createElement(Wt,{x:331,y:110}),n?r.a.createElement(nr,null):r.a.createElement(er,null),r.a.createElement(Dn,{x:406,y:89,w:28,h:24,checked:n,onClick:function(e){return o(e)}}))},rr=function(){var e,t=Object(a.useState)(!0),n=Object(se.a)(t,2),o=n[0],c=n[1],i=Object(a.useState)(!1),l=Object(se.a)(i,2),s=l[0],u=l[1];return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("h2",{className:"feature-header"},"Try the Live Synth in your browser!")),r.a.createElement("div",{className:(e={row:!0,"row--synth":!0,"blur-animation":s},Object.entries(e).filter(function(e){return e[1]}).map(function(e){return e[0]}).join(" "))},r.a.createElement(It,null,r.a.createElement(ar,null),r.a.createElement(ya,null),r.a.createElement(Da,null),r.a.createElement(Ua,null),r.a.createElement(oa,null),r.a.createElement(ja,null),r.a.createElement(cr,null)),o&&r.a.createElement(ir,{hideOverlay:function(){u(!0),ft().then(function(){c(!1),u(!1)})},isLoading:s})))},or=function(){return r.a.createElement(Dn,{x:8,y:4,w:20,h:19,onClick:function(){ft()}})},cr=function(){return r.a.createElement(_t.Group,null,r.a.createElement(or,null),r.a.createElement(Mn,{x:367,y:33}))},ir=function(e){var t=e.hideOverlay,n=e.isLoading;return r.a.createElement("div",{className:"overlay",style:{width:925,height:528},onClick:t},!n&&r.a.createElement("i",{className:"fa fa-play"}))},lr=n(14),sr=function(){return r.a.createElement("section",{id:"demo"},r.a.createElement(rr,null),r.a.createElement(ur,null))},ur=function(e){function t(e){var n;Object(i.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).containerRef=r.a.createRef(),n.midiEvent$=Ue.pipe(Object(Pe.a)(function(e){return{isDown:e.type===M,midi:(t=e.payload&&e.payload.keyCode,j[t])};var t}),Object(Se.a)(function(e){return!!e})),n.state={octave:0};var a=function(e){return e.meta[w[O.kbOctave]]||0};return n.observerUnsubscribe=Je(function(e){n.setState({octave:a(e)})},a),n.handleOctaveIncr=n.handleOctaveIncr.bind(Object(f.a)(n)),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.containerRef.current;this.keyboardInterface=new Ct(t),window.addEventListener("resize",this.resize.bind(this)),this.subscriptions=new lr.a;var n=this.midiEvent$.subscribe(function(t){return t.isDown?e.keyboardInterface.keyDown(t.midi):e.keyboardInterface.keyUp(t.midi)});this.subscriptions.add(n)}},{key:"componentWillUnmount",value:function(){this.subscriptions&&this.subscriptions.unsubscribe(),this.observerUnsubscribe&&this.observerUnsubscribe()}},{key:"resize",value:function(){this.keyboardInterface.resize()}},{key:"handleOctaveIncr",value:function(e){Xe.dispatch({type:R,payload:e})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"row keys"},r.a.createElement("div",{className:"keyboard-container"},r.a.createElement("div",{id:"keyboard",ref:this.containerRef})),r.a.createElement("div",{className:"kb-label"},r.a.createElement("span",{className:"kb-label--text"},"PC Keyboard Controls:")),r.a.createElement("div",{className:"octave-container"},r.a.createElement("span",{className:"octave-btn",onClick:function(){return e.handleOctaveIncr(-1)}},"DOWN"),r.a.createElement("span",{className:"octave"},"OCTAVE: ",this.state.octave>=0?"+":"",this.state.octave),r.a.createElement("span",{className:"octave-btn",onClick:function(){return e.handleOctaveIncr(1)}},"UP")))}}]),t}(a.Component),mr=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.contentData;return r.a.createElement("footer",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"twelve columns"},r.a.createElement("ul",{className:"social-links"},e.socialLinks&&e.socialLinks.map(function(e){return r.a.createElement("li",{key:e.url},r.a.createElement("a",{href:e.url},r.a.createElement("i",{className:e.className})))}))),r.a.createElement("div",{id:"go-top"},r.a.createElement("a",{className:"smoothscroll",title:"Back to Top",href:"#home"},r.a.createElement("i",{className:"icon-up-open"})))))}}]),t}(a.Component),hr=function(e){var t=e.contentData;return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{id:"home"},r.a.createElement("nav",{id:"nav-wrap"},r.a.createElement("a",{className:"mobile-btn",href:"#nav-wrap",title:"Show navigation"},"Show navigation"),r.a.createElement("a",{className:"mobile-btn",href:"#",title:"Hide navigation"},"Hide navigation"),r.a.createElement("ul",{id:"nav",className:"nav"},r.a.createElement("li",{className:"current"},r.a.createElement("a",{className:"smoothscroll",href:"#home"},"Home")),r.a.createElement("li",null,r.a.createElement("a",{className:"smoothscroll",href:"#demo"},"Try")),r.a.createElement("li",null,r.a.createElement("a",{className:"smoothscroll",href:"#about"},"About")),r.a.createElement("li",null,r.a.createElement("a",{className:"smoothscroll",href:"#tech"},"Tech")),r.a.createElement("li",null,r.a.createElement("a",{className:"smoothscroll",href:"#portfolio"},"Projects")))),r.a.createElement("div",{className:"row banner"},r.a.createElement("div",{className:"banner-text"},r.a.createElement("h1",{className:"responsive-headline"},"This is ",t.productName,"."),r.a.createElement("h3",{style:{color:"#fff",fontFamily:"sans-serif "}},r.a.createElement("span",{className:"banner-tagline"},t.productRole),r.a.createElement("span",{className:"banner-description"},t.productDescription)),r.a.createElement("hr",null),r.a.createElement("ul",{className:"social"},t.socialLinks&&t.socialLinks.map(function(e){return r.a.createElement("li",{key:e.name},r.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:e.className})))})))),r.a.createElement("p",{className:"scrolldown"},r.a.createElement("a",{className:"smoothscroll icon",href:"#demo"},r.a.createElement("i",{className:"icon-down-circle"})),r.a.createElement("a",{className:"smoothscroll try-msg",href:"#demo"},"Try the synth below"))))},dr=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.contentData;return r.a.createElement("section",{id:"portfolio"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"twelve columns collapsed"},r.a.createElement("h1",null,"Check Out Some of My Works."),r.a.createElement("div",{id:"portfolio-wrapper",className:"bgrid-quarters s-bgrid-thirds cf"},e.portfolio&&e.portfolio.map(function(e){return r.a.createElement("div",{className:"columns portfolio-item",key:e.name},r.a.createElement("div",{className:"item-wrap"},r.a.createElement("a",{href:e.href},r.a.createElement("img",{src:e.imgurl,alt:e.name,className:"item-img"}),r.a.createElement("div",{className:"overlay"},r.a.createElement("div",{className:"portfolio-item-meta"},r.a.createElement("h5",null,e.name),r.a.createElement("p",null,e.description))))))})))))}}]),t}(a.Component),fr={imagebaseurl:"https://rbhatia46.github.io/",productName:"CitySynth",productDescription:"CitySynth is a polyphonic software synthesizer thats wild but warm offering unrivaled discrete harmonic oscillator control.",productRole:"An open source WebAudio Synth.",productFeatures:["Polyphonic subtractive synthesizer","Unlimited stacked overtone oscillators","Save your own presets or use from 100+ factory presets","Always online, always free"],name:"Michael Lawrence",role:"Software Developer",linkedinId:"Your LinkedIn Id",skypeid:"Your skypeid",roleDescription:"I like dabbling in various parts of frontend development and like to learn about new technologies, write technical articles or simply play games in my free time.",socialLinks:[{name:"github",url:"http://github.com/michaelblawrence",className:"fa fa-github"}],productAbout:"CitySynth offers both modulating algorithmic reverb and delay, buttery filters and a per-oscillator analogue-style end stage. Complete with over 100 factory presets, you'll be surprised by the range of possibilities. With musical PC keyboard support and (soon) MIDI support, CitySynth is a tool for the studio and on the go!",prodectTech:"Bringing CitySynth online is only possible due to recent advancements in web tech.\n  This was made possible by the rewrite of the original core audio engine in the Rust programming language.\n  Leveraging wasm-bindgen, this audio engine is compiled into WebAssembly and instantiated and run on a separate WebAudio worker thread on the browser.\n  The new core audio engine allows CitySynth to run reliably with no runtime heap allocations. This makes it a perfect fit for real-time audio synthesis and allows for a predictable runtime in the browser.\n  The CitySynth UI, originally implemented in C# WinForms, has been achieved using purely web technologies.\n  React, Redux and RxJS have been utilized to provide bi-directional bindings between the WebAudio thread and the interface.\n  Taking CitySynth from a desktop executable to the Web has come with many challenges and resulted in a medley of new and interesting tech! Come back soon for a blog post recording some of the challenges faced in recreating this virtual instrument on the web.\n  There's plenty more to come from the CitySynth project, a proof of concept VST plugin can be found on the city-rust repo, and there are plans to target native desktop once again with the power of node.js and electron! So feel free to keep in touch or even contribute to the open-source projects!",aboutme:"I am currently a pre-final year student at The LNM Institute of Information Technology and pursuing my B.Tech from here. I am a self taught Full Stack Web Developer, currently diving deeper into Machine Learning. I believe that to be successful in life, one needs to be obsessive with their dreams and keep working towards them.",address:"London",website:"https://michaelblawrence.github.io/rustwasmtester/react/",education:[{UniversityName:"University College London",specialization:"Chemistry MSci",MonthOfPassing:"Jun",YearOfPassing:"2018",Achievements:"Some Achievements"}],work:[{CompanyName:"Spreadex",specialization:"Graduate .NET Software Developer",MonthOfLeaving:"Sept",YearOfLeaving:"2018",Achievements:"Some Achievements"}],skillsDescription:"Your skills here",skills:[{skillname:"C# / .NET"},{skillname:"Typescript / Angular"},{skillname:"Rust / WebAssembly"}],portfolio:[{name:"projectnucleus",description:"A fast-paced couch multiplayer game",href:"https://github.com/michaelblawrence/projectnucleus",imgurl:"images/projectnucleus_screenshot001.png"},{name:"CitySynth Online",description:"This website is also open source, complete with the live demo of CitySynth Online",href:"https://github.com/michaelblawrence/CitySynthDemo",imgurl:"images/this-is-city-synth.png"},{name:"learnr",description:"A LSTM-based single-player game training machine learning library",href:"https://github.com/michaelblawrence/learnr",imgurl:"images/learnr-training-demo.png"}],testimonials:[{description:"This is a sample testimonial",name:"Some technical guy"},{description:"This is a sample testimonial",name:"Some technical guy"}]},pr=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(hr,{contentData:fr}),r.a.createElement(sr,{contentData:fr}),r.a.createElement(h,{contentData:fr}),r.a.createElement(d,{contentData:fr}),r.a.createElement(dr,{contentData:fr}),r.a.createElement(mr,{contentData:fr}))},br=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function yr(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(r.a.createElement(pr,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/CitySynthDemo",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/CitySynthDemo","/service-worker.js");br?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):yr(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):yr(t,e)})}}()},74:function(e,t,n){e.exports=n(136)},79:function(e,t,n){}},[[74,2,1]]]);
//# sourceMappingURL=main.e294b7b5.chunk.js.map